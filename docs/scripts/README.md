# è„šæœ¬ç›®å½•

æœ¬ç›®å½•åŒ…å« Proxmox Clash æ’ä»¶çš„æ‰€æœ‰ç®¡ç†è„šæœ¬ã€‚

## ğŸ“ è„šæœ¬åˆ—è¡¨

### ğŸ”§ æ ¸å¿ƒç®¡ç†è„šæœ¬

- **`install.sh`** - ä¼ ç»Ÿå®‰è£…è„šæœ¬
- **`install_with_version.sh`** - æ™ºèƒ½ç‰ˆæœ¬ç®¡ç†å®‰è£…è„šæœ¬ï¼ˆæ¨èï¼‰
- **`uninstall.sh`** - å¸è½½è„šæœ¬
- **`upgrade.sh`** - ç‰ˆæœ¬å‡çº§è„šæœ¬
- **`version_manager.sh`** - ç‰ˆæœ¬ç®¡ç†è„šæœ¬ï¼ˆæ–°å¢ï¼‰

### ğŸ”„ åŠŸèƒ½è„šæœ¬

- **`update_subscription.sh`** - è®¢é˜…æ›´æ–°è„šæœ¬
- **`setup_transparent_proxy.sh`** - é€æ˜ä»£ç†é…ç½®è„šæœ¬
- **`view_logs.sh`** - æ—¥å¿—æŸ¥çœ‹å·¥å…·

### ğŸ“‚ å­ç›®å½•

- **`upgrade/`** - å‡çº§ç›¸å…³æ–‡æ¡£å’Œå·¥å…·

## ğŸš€ ç‰ˆæœ¬ç®¡ç†è„šæœ¬

### `version_manager.sh` - ç‰ˆæœ¬ç®¡ç†å·¥å…·

è¿™æ˜¯ä¸€ä¸ªå…¨æ–°çš„ç‰ˆæœ¬ç®¡ç†è„šæœ¬ï¼Œç»“åˆ GitHub è¿›è¡Œæ™ºèƒ½ç‰ˆæœ¬æ§åˆ¶ï¼š

#### ä¸»è¦åŠŸèƒ½

- **GitHub é›†æˆ** - ç›´æ¥ä» GitHub Releases è·å–ç‰ˆæœ¬ä¿¡æ¯
- **æ™ºèƒ½ç¼“å­˜** - æœ¬åœ°ç¼“å­˜ç‰ˆæœ¬ä¿¡æ¯ï¼Œå‡å°‘ API è°ƒç”¨
- **ç‰ˆæœ¬æ¯”è¾ƒ** - è‡ªåŠ¨æ¯”è¾ƒç‰ˆæœ¬å·ï¼Œæ™ºèƒ½æç¤ºæ›´æ–°
- **å¤šç‰ˆæœ¬æ”¯æŒ** - æ”¯æŒæŸ¥çœ‹ã€å®‰è£…ä»»æ„å¯ç”¨ç‰ˆæœ¬
- **ç‰ˆæœ¬è¯¦æƒ…** - æ˜¾ç¤ºç‰ˆæœ¬å‘å¸ƒæ—¶é—´ã€ä¸‹è½½æ¬¡æ•°ã€æ›´æ–°è¯´æ˜

#### ä½¿ç”¨æ–¹æ³•

```bash
# æ˜¾ç¤ºæœ€æ–°ç‰ˆæœ¬
sudo ./version_manager.sh -l

# æ˜¾ç¤ºå½“å‰ç‰ˆæœ¬
sudo ./version_manager.sh -c

# åˆ—å‡ºæ‰€æœ‰å¯ç”¨ç‰ˆæœ¬
sudo ./version_manager.sh -a

# æ˜¾ç¤ºç‰ˆæœ¬è¯¦ç»†ä¿¡æ¯
sudo ./version_manager.sh -i v1.1.0

# æ£€æŸ¥æ›´æ–°
sudo ./version_manager.sh -u

# è®¾ç½®å½“å‰ç‰ˆæœ¬
sudo ./version_manager.sh -s v1.1.0

# æ¸…ç†ç‰ˆæœ¬ç¼“å­˜
sudo ./version_manager.sh --clear-cache

# å¼ºåˆ¶åˆ·æ–°ç‰ˆæœ¬ä¿¡æ¯
sudo ./version_manager.sh --refresh
```

### `install_with_version.sh` - æ™ºèƒ½å®‰è£…è„šæœ¬

ç»“åˆç‰ˆæœ¬ç®¡ç†åŠŸèƒ½çš„å®‰è£…è„šæœ¬ï¼š

#### ä½¿ç”¨æ–¹æ³•

```bash
# å®‰è£…æœ€æ–°ç‰ˆæœ¬
sudo ./install_with_version.sh -l

# å®‰è£…æŒ‡å®šç‰ˆæœ¬
sudo ./install_with_version.sh -v v1.1.0

# æŸ¥çœ‹å¯ç”¨ç‰ˆæœ¬
sudo ./install_with_version.sh -c
```

## ğŸ”„ å‡çº§è„šæœ¬

### `upgrade.sh` - ç‰ˆæœ¬å‡çº§è„šæœ¬

æ”¯æŒè‡ªåŠ¨æ£€æµ‹æ›´æ–°ã€ä¸€é”®å‡çº§å’Œå¤‡ä»½æ¢å¤ï¼š

#### ä½¿ç”¨æ–¹æ³•

```bash
# æ£€æŸ¥æ›´æ–°
sudo ./upgrade.sh -c

# å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬
sudo ./upgrade.sh -l

# å‡çº§åˆ°æŒ‡å®šç‰ˆæœ¬
sudo ./upgrade.sh -v 1.1.0

# åˆ›å»ºå¤‡ä»½
sudo ./upgrade.sh -b

# ä»å¤‡ä»½æ¢å¤
sudo ./upgrade.sh -r backup_name
```

## ğŸ“‹ å…¶ä»–è„šæœ¬

### `install.sh` - ä¼ ç»Ÿå®‰è£…è„šæœ¬

åŸºç¡€å®‰è£…åŠŸèƒ½ï¼Œé€‚åˆå¿«é€Ÿéƒ¨ç½²ï¼š

```bash
sudo ./install.sh
```

### `uninstall.sh` - å¸è½½è„šæœ¬

å®Œå…¨ç§»é™¤æ’ä»¶ï¼š

```bash
sudo ./uninstall.sh
```

### `update_subscription.sh` - è®¢é˜…æ›´æ–°è„šæœ¬

æ›´æ–° Clash è®¢é˜…ï¼š

```bash
sudo ./update_subscription.sh [è®¢é˜…URL]
```

### `setup_transparent_proxy.sh` - é€æ˜ä»£ç†é…ç½®è„šæœ¬

é…ç½®é€æ˜ä»£ç†ï¼š

```bash
sudo ./setup_transparent_proxy.sh
```

### `view_logs.sh` - æ—¥å¿—æŸ¥çœ‹å·¥å…·

æŸ¥çœ‹ Clash æ—¥å¿—ï¼š

```bash
sudo ./view_logs.sh
```

## ğŸ”§ è„šæœ¬æƒé™

æ‰€æœ‰è„šæœ¬éƒ½éœ€è¦æ‰§è¡Œæƒé™ï¼š

```bash
chmod +x *.sh
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ç‰ˆæœ¬ç®¡ç†è„šæœ¬** éœ€è¦ `curl`ã€`jq` ç­‰ä¾èµ–å·¥å…·
2. **å‡çº§è„šæœ¬** ä¼šè‡ªåŠ¨åˆ›å»ºå¤‡ä»½ï¼Œå¤‡ä»½ä¿å­˜åœ¨ `/opt/proxmox-clash/backup/`
3. **å®‰è£…è„šæœ¬** ä¼šæ£€æŸ¥ç³»ç»Ÿä¾èµ–å¹¶è‡ªåŠ¨å®‰è£…ç¼ºå¤±çš„åŒ…
4. æ‰€æœ‰è„šæœ¬éƒ½ä¼šè®°å½•è¯¦ç»†æ—¥å¿—åˆ° `/var/log/proxmox-clash.log`

## ğŸ†• æ–°åŠŸèƒ½

### ç‰ˆæœ¬ç®¡ç†æ”¹è¿›

- âœ… ç»“åˆ GitHub Releases è¿›è¡Œç‰ˆæœ¬ç®¡ç†
- âœ… æ™ºèƒ½ç¼“å­˜æœºåˆ¶ï¼Œå‡å°‘ API è°ƒç”¨
- âœ… æ”¯æŒæŸ¥çœ‹ç‰ˆæœ¬è¯¦ç»†ä¿¡æ¯å’Œæ›´æ–°è¯´æ˜
- âœ… æ”¯æŒå®‰è£…ä»»æ„å¯ç”¨ç‰ˆæœ¬
- âœ… è‡ªåŠ¨ç‰ˆæœ¬æ¯”è¾ƒå’Œæ›´æ–°æç¤º 